<!DOCTYPE html>
<html>
<head>
<meta charset="utf8">
<title>Basic Usage Test</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<style type="text/css">
	pre output:first-child { padding-top: 0; }
</style>
</head>
<body>

<div class="container-fluid">
	<div class="row">
		<section class="col-sm-3 col-sm-offset-2">
			<h2>Input</h2>
			<div class="input-group">
				<input id="input" type="text" class="form-control" value="external.kit" readonly>
				<div class="input-group-btn">
					<button id="submit" class="btn btn-primary"><i class="fa fa-check"></i> Go</button>
				</div>
			</div>
		</section>
		<section class="col-sm-5">
			<h2>Source</h2>
			<pre><output id="source"></output></pre>
		</section>
		<section class="col-sm-8 col-sm-offset-2">
			<h2>Result</h2>
			<pre><output id="result"></output></pre>
		</section>
	</div>
</div>
	
<div id="scripts">
<script type="text/javascript" src="../../src/kit.js"></script>
<script type="text/javascript">
	// the elements
	var $input  = document.querySelector('#input')
	var $submit = document.querySelector('#submit')
	var $source = document.querySelector('#source')
	var $result = document.querySelector('#result')
	
	// the kit object
	var kit = new LPEngineKIT($input.value, { dev: true, env: 'invalid environment' })
	
	if (kit.src && typeof kit.src === 'string') submit()
	
	// onclicks
	$input.onclick = HTMLInputElement.prototype.select
	$submit.onclick = submit
	
	// functions
	function submit() {
		if (!kit.src)
			$source.innerHTML = 'Whoops: The source is (as yet) undefined. Please try again.'
		
		$source.innerHTML = kit.src.replace(/</g, '&lt;').replace(/>/g, '&gt;')
		$result.innerHTML = kit.getResult().replace(/</g, '&lt;').replace(/>/g, '&gt;')
	}
</script>
</div>

</body>
</html>
